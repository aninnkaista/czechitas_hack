{% extends "layout.html" %} {% block title %} Dashboard {% endblock %} {% block main %}
<script>
    function SearchCountry() {
        var input, filter, table, tr, td, x;
        input = document.getElementById("UserInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("Diary_records");
        tr = table.getElementsByTagName("tr");

        for (x = 0; x < tr.length; x++) {
            td = tr[x].getElementsByTagName("td")[1];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[x].style.display = "";
                } else {
                    tr[x].style.display = "none";
                }
            }
        }
    }
</script>
<div class="form-group">
    <input type="text" id="UserInput" onkeyup="SearchCountry()" class="form-control input-lg" autocomplete="off" name="input" placeholder="Select country" autofocus>
</div>
<table class='table' id="Diary_records">
    <thead>
        <th>Username</th>
        <th>Country</th>
        <th>Place</th>
        <th>Date_from</th>
        <th>Date_to</th>
        <th>Text</th>
    </thead>
    <tbody>
        {% for record in diary_records %}
        <tr>
            <td>{{ record['username'] }}</td>
            <td>{{ record['country'] }}</td>
            <td>{{ record['place'] }}</td>
            <td>{{ record['date_from'] }}</td>
            <td>{{ record['date_to'] }}</td>
            <td>{{ record['text'] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a class='form-link ' href='/form '><input type='submit ' class='btn btn-primary ' value='Add New Record '></a>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
{% endblock %}